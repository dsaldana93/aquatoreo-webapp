# nixpacks.toml - PARA SPA ESTÁTICA
name = "aquatoreo-webapp"

providers = ["node", "staticfile"]

[phases.setup]
nixPkgs = ["nodejs-18_x"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = ["npm run build"]

# Especifica la carpeta de build de Vite
[static]
path = "dist"
singlePageApplication = true

[start]
# Para SPA, usa un servidor estático
cmd = "npx serve -s dist -l 3000"

[env]
NODE_ENV = "production"